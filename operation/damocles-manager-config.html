<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration of damocles-manager | Damocles</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/assets/damocles-icon.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-C1545RTPE5"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-C1545RTPE5');</script>
    <meta name="description" content="Damocles, formerly known as Venus Power Service, is THE Filecoin storage power solution.">
    
    <link rel="preload" href="/assets/css/0.styles.e2ff4576.css" as="style"><link rel="preload" href="/assets/js/app.022a3539.js" as="script"><link rel="preload" href="/assets/js/2.2a8cf6e9.js" as="script"><link rel="preload" href="/assets/js/17.5738a6c0.js" as="script"><link rel="prefetch" href="/assets/js/10.41cee622.js"><link rel="prefetch" href="/assets/js/11.063d7fa2.js"><link rel="prefetch" href="/assets/js/12.b03ec269.js"><link rel="prefetch" href="/assets/js/13.9d2fb996.js"><link rel="prefetch" href="/assets/js/14.d1a07afe.js"><link rel="prefetch" href="/assets/js/15.d0fe8e34.js"><link rel="prefetch" href="/assets/js/16.0e1e653a.js"><link rel="prefetch" href="/assets/js/18.dbf6fecb.js"><link rel="prefetch" href="/assets/js/19.8f2f4079.js"><link rel="prefetch" href="/assets/js/20.4dce5d3b.js"><link rel="prefetch" href="/assets/js/21.92100b96.js"><link rel="prefetch" href="/assets/js/22.c53f7a6f.js"><link rel="prefetch" href="/assets/js/23.c337fce4.js"><link rel="prefetch" href="/assets/js/24.572f0463.js"><link rel="prefetch" href="/assets/js/25.a28053d9.js"><link rel="prefetch" href="/assets/js/26.09e654e2.js"><link rel="prefetch" href="/assets/js/27.0941c902.js"><link rel="prefetch" href="/assets/js/28.2a9152a4.js"><link rel="prefetch" href="/assets/js/29.c6546450.js"><link rel="prefetch" href="/assets/js/3.cc869a3b.js"><link rel="prefetch" href="/assets/js/30.368cfbe4.js"><link rel="prefetch" href="/assets/js/31.48183658.js"><link rel="prefetch" href="/assets/js/32.f58290a6.js"><link rel="prefetch" href="/assets/js/33.d3bcde1d.js"><link rel="prefetch" href="/assets/js/34.d80b161d.js"><link rel="prefetch" href="/assets/js/35.fdd8eea9.js"><link rel="prefetch" href="/assets/js/36.3c5b3643.js"><link rel="prefetch" href="/assets/js/37.2da98132.js"><link rel="prefetch" href="/assets/js/38.651574c5.js"><link rel="prefetch" href="/assets/js/39.265a9ebf.js"><link rel="prefetch" href="/assets/js/4.d4393beb.js"><link rel="prefetch" href="/assets/js/40.61f650d5.js"><link rel="prefetch" href="/assets/js/41.30eb628c.js"><link rel="prefetch" href="/assets/js/42.82e1ede3.js"><link rel="prefetch" href="/assets/js/43.19c6a285.js"><link rel="prefetch" href="/assets/js/44.e0139149.js"><link rel="prefetch" href="/assets/js/45.bd7f0265.js"><link rel="prefetch" href="/assets/js/46.db37718b.js"><link rel="prefetch" href="/assets/js/47.c5653ff1.js"><link rel="prefetch" href="/assets/js/48.26b1bd71.js"><link rel="prefetch" href="/assets/js/49.80000722.js"><link rel="prefetch" href="/assets/js/5.7af5716c.js"><link rel="prefetch" href="/assets/js/6.354469f3.js"><link rel="prefetch" href="/assets/js/7.d4b63fde.js"><link rel="prefetch" href="/assets/js/8.6f875c2d.js"><link rel="prefetch" href="/assets/js/9.ea6c973f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e2ff4576.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/damocles-icon.png" alt="Damocles" class="logo"> <span class="site-name can-hide">Damocles</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/intro/" class="nav-link">
  Introduction
</a></div><div class="nav-item"><a href="/operation/" class="nav-link router-link-active">
  Deployment &amp; Operation
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/operation/damocles-manager-config.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/operation/damocles-manager-config.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/intro/" class="nav-link">
  Introduction
</a></div><div class="nav-item"><a href="/operation/" class="nav-link router-link-active">
  Deployment &amp; Operation
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/operation/damocles-manager-config.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/operation/damocles-manager-config.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/operation/" aria-current="page" class="sidebar-link">Getting started</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Configurations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/operation/damocles-manager-config.html" aria-current="page" class="active sidebar-link">damocles-manager config</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/operation/damocles-manager-config.html#common" class="sidebar-link">[Common]</a></li><li class="sidebar-sub-header"><a href="/operation/damocles-manager-config.html#miners" class="sidebar-link">[[Miners]]</a></li><li class="sidebar-sub-header"><a href="/operation/damocles-manager-config.html#a-minimal-working-configuration-file-example" class="sidebar-link">A minimal working configuration file example</a></li></ul></li><li><a href="/operation/damocles-worker-config.html" class="sidebar-link">damocles-worker config</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Operations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/operation/task-management.html" class="sidebar-link">Task management</a></li><li><a href="/operation/task-flow.html" class="sidebar-link">Task flow</a></li><li><a href="/operation/poster.html" class="sidebar-link">Dedicated PoSt node</a></li><li><a href="/operation/worker-util.html" class="sidebar-link">Worker utils</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Migration</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/operation/migrate-sectors.html" class="sidebar-link">Import existing sectors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configuration-of-damocles-manager"><a href="#configuration-of-damocles-manager" class="header-anchor">#</a> Configuration of damocles-manager</h1> <p><code>damocles-manager</code> is the main component for interacting with the chain and maintaining the sectors. Let's take a look at its configuration file structure.</p> <p>After initialization, we can get a copy of the default configuration:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token comment"># Default config:</span>
<span class="token punctuation">[</span><span class="token table class-name">Common</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.API</span><span class="token punctuation">]</span>
<span class="token comment">#Chain = &quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>
<span class="token comment">#Messager = &quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>
<span class="token comment">#Market = &quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>
<span class="token comment">#Gateway = [&quot;/ip4/{api_host}/tcp/{api_port}&quot;]</span>
<span class="token comment">#Token = &quot;{some token}&quot;</span>
<span class="token comment">#ChainEventInterval = &quot;1m0s&quot;</span>
<span class="token comment">#</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PieceStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">#Name = &quot;{store_name}&quot;</span>
<span class="token comment">#Path = &quot;{store_path}&quot;</span>
<span class="token comment">#Plugin = &quot;&quot;</span>
<span class="token comment">#PluginName = &quot;s3store&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.PieceStores.Meta</span><span class="token punctuation">]</span>
<span class="token comment">#SomeKey = &quot;SomeValue&quot;</span>
<span class="token comment">#</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">#Name = &quot;{store_name}&quot;</span>
<span class="token comment">#Path = &quot;{store_path}&quot;</span>
<span class="token comment">#Strict = false</span>
<span class="token comment">#ReadOnly = false</span>
<span class="token comment">#Weight = 0</span>
<span class="token comment">#AllowMiners = [1, 2]</span>
<span class="token comment">#DenyMiners = [3, 4]</span>
<span class="token comment">#Plugin = &quot;&quot;</span>
<span class="token comment">#PluginName = &quot;s3store&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores.Meta</span><span class="token punctuation">]</span>
<span class="token comment">#SomeKey = &quot;SomeValue&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.DB</span><span class="token punctuation">]</span>
<span class="token comment">#Driver = &quot;badger&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.DB.Badger</span><span class="token punctuation">]</span>
<span class="token comment">#BaseDir = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.Proving</span><span class="token punctuation">]</span>
<span class="token comment">#ParallelCheckLimit = 128</span>
<span class="token comment">#SingleCheckTimeout = &quot;10m0s&quot;</span>
<span class="token comment">#PartitionCheckTimeout = &quot;20m0s&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.Proving.WorkerProver</span><span class="token punctuation">]</span>
<span class="token key property">JobMaxTry</span> <span class="token punctuation">=</span> <span class="token number">2</span>
<span class="token key property">HeartbeatTimeout</span> <span class="token punctuation">=</span> <span class="token string">&quot;15s&quot;</span>
<span class="token key property">JobLifetime</span> <span class="token punctuation">=</span> <span class="token string">&quot;25h0m0s&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Miners</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">#Actor = 10086</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Sector</span><span class="token punctuation">]</span>
<span class="token comment">#InitNumber = 0</span>
<span class="token comment">#MinNumber = 10</span>
<span class="token comment">#MaxNumber = 1000000</span>
<span class="token comment">#Enabled = true</span>
<span class="token comment">#EnableDeals = false</span>
<span class="token comment">#LifetimeDays = 540</span>
<span class="token comment">#Verbose = false</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.SnapUp</span><span class="token punctuation">]</span>
<span class="token comment">#Enabled = false</span>
<span class="token comment">#Sender = &quot;f1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>
<span class="token comment">#SendFund = true</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token comment">#CleanupCCData = true</span>
<span class="token comment">#MessageConfidence = 15</span>
<span class="token comment">#ReleaseConfidence = 30</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.SnapUp.Retry</span><span class="token punctuation">]</span>
<span class="token comment">#MaxAttempts = 10</span>
<span class="token comment">#PollInterval = &quot;3m0s&quot;</span>
<span class="token comment">#APIFailureWait = &quot;3m0s&quot;</span>
<span class="token comment">#LocalFailureWait = &quot;3m0s&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment</span><span class="token punctuation">]</span>
<span class="token comment">#Confidence = 10</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Pre</span><span class="token punctuation">]</span>
<span class="token comment">#Sender = &quot;f1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>
<span class="token comment">#SendFund = true</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Pre.Batch</span><span class="token punctuation">]</span>
<span class="token comment">#Enabled = false</span>
<span class="token comment">#Threshold = 16</span>
<span class="token comment">#MaxWait = &quot;1h0m0s&quot;</span>
<span class="token comment">#CheckInterval = &quot;1m0s&quot;</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Prove</span><span class="token punctuation">]</span>
<span class="token comment">#Sender = &quot;f1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>
<span class="token comment">#SendFund = true</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Prove.Batch</span><span class="token punctuation">]</span>
<span class="token comment">#Enabled = false</span>
<span class="token comment">#Threshold = 16</span>
<span class="token comment">#MaxWait = &quot;1h0m0s&quot;</span>
<span class="token comment">#CheckInterval = &quot;1m0s&quot;</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Terminate</span><span class="token punctuation">]</span>
<span class="token comment">#Sender = &quot;f1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>
<span class="token comment">#SendFund = true</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Terminate.Batch</span><span class="token punctuation">]</span>
<span class="token comment">#Enabled = false</span>
<span class="token comment">#Threshold = 5</span>
<span class="token comment">#MaxWait = &quot;1h0m0s&quot;</span>
<span class="token comment">#CheckInterval = &quot;1m0s&quot;</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.PoSt</span><span class="token punctuation">]</span>
<span class="token comment">#Sender = &quot;f1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>
<span class="token comment">#Enabled = true</span>
<span class="token comment">#StrictCheck = true</span>
<span class="token comment">#Parallel = false</span>
<span class="token comment">#GasOverEstimation = 1.2</span>
<span class="token comment">#GasOverPremium = 0.0</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>
<span class="token comment">#Confidence = 10</span>
<span class="token comment">#SubmitConfidence = 0</span>
<span class="token comment">#ChallengeConfidence = 0</span>
<span class="token comment">#MaxRecoverSectorLimit = 0</span>
<span class="token comment">#MaxPartitionsPerPoStMessage = 0</span>
<span class="token comment">#MaxPartitionsPerRecoveryMessage = 0</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Proof</span><span class="token punctuation">]</span>
<span class="token comment">#Enabled = false</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Sealing</span><span class="token punctuation">]</span>
<span class="token comment">#SealingEpochDuration = 0</span>
<span class="token comment">#</span>
</code></pre></div><p>We will break down each configurable item one by one.</p> <h2 id="common"><a href="#common" class="header-anchor">#</a> [Common]</h2> <p><code>Common</code> section includes common configuration, which is further divided into four sub-configuration items:</p> <h3 id="common-api"><a href="#common-api" class="header-anchor">#</a> [Common.API]</h3> <p><code>Common.API</code> is interface related configuration, its content includes:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Common.API</span><span class="token punctuation">]</span>
<span class="token comment"># Chain service info, required, string type</span>
<span class="token comment"># Fill in according to the actual situation of the service used</span>
<span class="token comment"># If the field is valid as a token-included-info-string (&quot;{token}:{multiaddr}&quot;), the token included would be used to construct the rpc client instead of the common token.</span>
<span class="token key property">Chain</span> <span class="token punctuation">=</span> <span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>

<span class="token comment"># Message service info, required, string type</span>
<span class="token comment"># Fill in according to the actual situation of the service used</span>
<span class="token comment"># If the field is valid as a token-included-info-string (&quot;{token}:{multiaddr}&quot;), the token included would be used to construct the rpc client instead of the common token.</span>
<span class="token key property">Messager</span> <span class="token punctuation">=</span> <span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>

<span class="token comment"># Market service info, optional, string type</span>
<span class="token comment"># Fill in according to the actual situation of the service used</span>
<span class="token comment"># If the field is valid as a token-included-info-string (&quot;{token}:{multiaddr}&quot;), the token included would be used to construct the rpc client instead of the common token.</span>
<span class="token key property">Market</span> <span class="token punctuation">=</span> <span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>

<span class="token comment"># Event gateway service infos, required, string type</span>
<span class="token comment"># Fill in according to the actual situation of the service used</span>
<span class="token comment"># For each one contained, if the item is valid as a token-included-info-string (&quot;{token}:{multiaddr}&quot;), the token included would be used to construct the rpc client instead of the common token.</span>
<span class="token key property">Gateway</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span><span class="token punctuation">]</span>

<span class="token comment"># common token for services, required, string type</span>
<span class="token comment"># Fill in according to the actual situation of the service used</span>
<span class="token key property">Token</span> <span class="token punctuation">=</span> <span class="token string">&quot;{some token}&quot;</span>

<span class="token comment"># Interval time for detecting chain height changes, optional, duration type</span>
<span class="token comment"># Default is 1min</span>
<span class="token comment">#ChainEventInterval = &quot;1m0s&quot;</span>
</code></pre></div><h3 id="common-plugins"><a href="#common-plugins" class="header-anchor">#</a> [Common.Plugins]</h3> <p><code>Common.Plugins</code> is used for configuring the plugin path of damocles-manager.</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Common.Plugins</span><span class="token punctuation">]</span>
<span class="token comment"># Path where plugins are stored, optional，string type</span>
<span class="token comment"># Default is an empty string, which means that no plugin will be loaded.</span>
<span class="token comment"># It is recommended to use absolute paths.</span>
<span class="token key property">Dir</span> <span class="token punctuation">=</span> <span class="token string">&quot;&quot;</span>
</code></pre></div><h3 id="common-piecestores"><a href="#common-piecestores" class="header-anchor">#</a> [[Common.PieceStores]]</h3> <p><code>Common.PieceStores</code> is used for configuring local deal <code>piece</code> data. When there is available offline deal, you can configure this item to avoid getting the deal <code>piece</code> data through public network traffic.</p> <p>Each local store directory should correspond to a <code>Common.PieceStores</code> configuration block.</p> <h4 id="basic-configuration-example"><a href="#basic-configuration-example" class="header-anchor">#</a> Basic configuration example</h4> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PieceStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># name, optional, string type</span>
<span class="token comment"># The default is the absolute path corresponding to the path</span>
<span class="token comment">#Name = &quot;remote-store1&quot;</span>

<span class="token comment"># path, required, string type</span>
<span class="token key property">Path</span> <span class="token punctuation">=</span> <span class="token string">&quot;/mnt/mass/piece1&quot;</span>

<span class="token comment"># Plugin path, optional, string type</span>
<span class="token comment"># default is null</span>
<span class="token comment"># If you would like to use a custom storage scheme, you can write a golang plugin that meets the requirements and set it here.</span>
<span class="token comment"># Deprecated, Please use PluginName instead.</span>
<span class="token comment">#Plugin = &quot;path/to/objstore-plugin&quot;</span>

<span class="token comment"># Plugin path, optional, string type</span>
<span class="token comment"># default is empty string</span>
<span class="token comment"># If you would like to use a custom storage scheme, you can write a golang plugin that meets the requirements and set it here.</span>
<span class="token comment">#PluginName = &quot;s3store&quot;</span>

<span class="token comment"># Meta information, optional items, dictionary type</span>
<span class="token comment"># The internal value is in the format of Key = &quot;Value&quot;</span>
<span class="token comment"># Default value is null</span>
<span class="token comment"># Used to support different types of storage schemes</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.PieceStores.Meta</span><span class="token punctuation">]</span>
<span class="token comment">#SomeKey = &quot;SomeValue&quot;</span>
<span class="token comment">#</span>
</code></pre></div><h3 id="common-persiststores"><a href="#common-persiststores" class="header-anchor">#</a> [[Common.PersistStores]]</h3> <p><code>Common.PersistStores</code> is used to configure sector persistent data stores. It corresponds to the <code>attached</code> concept in <code>damocles-worker</code>.</p> <p>Similar to <code>Common.PieceStores</code>, each persistent store directory should correspond to a <code>Common.PersistStores</code> configuration block.</p> <h4 id="basic-configuration-example-2"><a href="#basic-configuration-example-2" class="header-anchor">#</a> Basic configuration example</h4> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># name, optional, string type</span>
<span class="token comment">## Default is the absolute path corresponding to the path</span>
<span class="token comment">#Name = &quot;remote-store1&quot;</span>

<span class="token comment"># path, required, string type</span>
<span class="token comment"># It is recommended to use absolute paths</span>
<span class="token key property">Path</span> <span class="token punctuation">=</span> <span class="token string">&quot;/mnt/remote/10.0.0.14/store&quot;</span>

<span class="token comment"># read only, optional, boolean</span>
<span class="token comment"># Default is false</span>
<span class="token comment"># From v0.4.0 and above, the persistent storage allocation logic goes to damocles-manager</span>
<span class="token comment"># This configuration can be used to set whether you can continue to write to the storage</span>
<span class="token comment">#ReadOnly = false</span>

<span class="token comment"># optional, boolean</span>
<span class="token comment"># Default is false</span>
<span class="token comment"># Whether to validate if the Path is a regular file. If set to True, an error will be raised if the Path is a non-regular file, such as a symbolic link.</span>
<span class="token comment">#Strict = false</span>

<span class="token comment"># weight, optional, number type</span>
<span class="token comment"># Default is 1</span>
<span class="token comment"># When the filled value is 0, it is equivalent to 1</span>
<span class="token comment"># From v0.4.0 and above, the persistent storage allocation logic goes to damocles-manager</span>
<span class="token comment"># This configuration can be used to set the weight allocation ratio between multiple persistent stores</span>
<span class="token comment"># The probability of each persistent stores being selected is `weight / sum`, where `sum` is the sum of the weights of all available persistent stores.</span>
<span class="token comment"># Example: Configure 3 persistent stores, the weights are 2, 1, 1. The probability of being selected is 50%, 25%, 25% respectively</span>
<span class="token comment">#Weight = 1</span>

<span class="token comment"># Plugin path, optional, string type</span>
<span class="token comment"># default is null</span>
<span class="token comment"># If you want to use a custom storage scheme, you can write a golang plugin that meets the requirements and set it here.</span>
<span class="token comment"># Deprecated, Please use PluginName instead.</span>
<span class="token comment">#Plugin = &quot;path/to/objstore-plugin&quot;</span>

<span class="token comment"># List of miner IDs that are allowed, optional, numeric array type</span>
<span class="token comment"># default is null</span>
<span class="token comment"># When not set, it is regarded as allowing all miner IDs; when set, it is equivalent to a whitelist, which allows only listed miner IDs</span>
<span class="token comment"># If a miner ID appears in AllowMiners and DenyMiners at the same time, DenyMiners will take effect first, which is considered blacklisted</span>
<span class="token comment">#AllowMiners = [1, 2]</span>

<span class="token comment"># List of miner IDs that are being denied, optional, numeric array type</span>
<span class="token comment"># default is null</span>
<span class="token comment"># When not set, it is regarded as not rejecting any miner number; when set, it is equivalent to a blacklist, which will deny the listed miner ID</span>
<span class="token comment"># If a miner ID appears in both AllowMiners and DenyMiners, DenyMiners will take effect first, which is considered blacklisted</span>
<span class="token comment">#DenyMiners = [3, 4]</span>

<span class="token comment"># Plugin path, optional, string type</span>
<span class="token comment"># default is empty string</span>
<span class="token comment"># If you would like to use a custom storage scheme, you can write a golang plugin that meets the requirements and set it here.</span>
<span class="token comment">#PluginName = &quot;s3store&quot;</span>

<span class="token comment"># Meta information, optional items, dictionary type</span>
<span class="token comment"># The internal value is in the format of Key = &quot;Value&quot;</span>
<span class="token comment"># Default value is null</span>
<span class="token comment"># Used to support the preparation of different types of storage schemes, currently has no effect</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores.Meta</span><span class="token punctuation">]</span>
<span class="token comment">#SomeKey = &quot;SomeValue&quot;</span>
<span class="token comment">#</span>
</code></pre></div><h3 id="common-mongokvstore-deprecated"><a href="#common-mongokvstore-deprecated" class="header-anchor">#</a> [Common.MongoKVStore] <code>Deprecated</code></h3> <p><code>Common.MongoKVStore</code> is used to configure whether <code>damocles-manager</code> use MongoDB as KV database during sealing。</p> <h4 id="basic-configuration-example-3"><a href="#basic-configuration-example-3" class="header-anchor">#</a> Basic configuration example</h4> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Common.MongoKVStore</span><span class="token punctuation">]</span>
<span class="token comment"># Switch of Mongo KV, optional, boolean type</span>
<span class="token comment"># default is false </span>
<span class="token key property">Enable</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token comment"># DSN of Mongo, when `Enable` is true, `DSN` is required, string type.</span>
<span class="token key property">DSN</span> <span class="token punctuation">=</span> <span class="token string">&quot;mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&quot;</span>
<span class="token comment"># DatabaseName of Mongo, when `Enable` is true, `DatabaseName` is required, string type.</span>
<span class="token key property">DatabaseName</span> <span class="token punctuation">=</span> <span class="token string">&quot;test&quot;</span>
</code></pre></div><h3 id="common-proving"><a href="#common-proving" class="header-anchor">#</a> [Common.Proving]</h3> <p>Proving used to control the number of proving parallels and check timeouts.</p> <p>example:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token comment"># Maximum number of sector checks to run in parallel, optional, time type</span>
<span class="token comment"># Default is 128. (0 = unlimited)</span>
<span class="token comment"># WARNING: Setting this value too high may make the node crash by running out of stack</span>
<span class="token comment"># WARNING: Setting this value too low may make sector challenge reading much slower, resulting in failed PoSt due</span>
<span class="token comment"># to late submission.</span>
<span class="token comment">#ParallelCheckLimit = 128</span>
<span class="token comment"># Maximum amount of time a proving pre-check can take for a sector, optional, time type</span>
<span class="token comment"># Default is 10m0s.</span>
<span class="token comment"># If the check times out the sector will be skipped</span>
<span class="token comment"># WARNING: Setting this value too low risks in sectors being skipped even though they are accessible, just reading the test challenge took longer than this timeout</span>
<span class="token comment"># WARNING: Setting this value too high risks missing PoSt deadline in case IO operations related to this sector are blocked (e.g. in case of disconnected NFS mount)</span>
<span class="token comment">#SingleCheckTimeout = &quot;10m0s&quot;</span>
<span class="token comment"># Maximum amount of time a proving pre-check can take for an entire partition, optional time type</span>
<span class="token comment"># Default is 20m0s.</span>
<span class="token comment"># If the check times out, sectors in the partition which didn't get checked on time will be skipped</span>
<span class="token comment"># WARNING: Setting this value too low risks in sectors being skipped even though they are accessible, just reading the test challenge took longer than this timeout</span>
<span class="token comment"># WARNING: Setting this value too high risks missing PoSt deadline in case IO operations related to this partition are blocked or slow</span>
<span class="token comment">#PartitionCheckTimeout = &quot;20m0s&quot;</span>
</code></pre></div><h3 id="common-proving-workerprover"><a href="#common-proving-workerprover" class="header-anchor">#</a> [Common.Proving.WorkerProver]</h3> <p>Used to configure the worker prover module</p> <p>example:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token comment"># The maximum number of attempts of the WindowPoSt job, optional, number type</span>
<span class="token comment"># Default is 2</span>
<span class="token comment"># job that exceeds the JobMaxTry number can only be re-executed by manual reset</span>
<span class="token key property">JobMaxTry</span> <span class="token punctuation">=</span> <span class="token number">2</span>
<span class="token comment"># The timeout of the WindowPoSt job's heartbeat, optional, time type</span>
<span class="token comment"># Default is 15s</span>
<span class="token comment"># jobs that have not sent a heartbeat for more than this time will be set to fail and retried</span>
<span class="token key property">HeartbeatTimeout</span> <span class="token punctuation">=</span> <span class="token string">&quot;15s&quot;</span>
<span class="token comment"># The heartbeat timeout of the WindowPoSt job, optional, time type</span>
<span class="token comment"># Default is 25h</span>
<span class="token comment"># WindowPoSt jobs created longer than this time will be deleted</span>
<span class="token key property">JobLifetime</span> <span class="token punctuation">=</span> <span class="token string">&quot;25h0m0s&quot;</span>
</code></pre></div><h3 id="common-db"><a href="#common-db" class="header-anchor">#</a> [Common.DB]</h3> <p><code>Common.DB</code> is used to configure  KV database used by <code>damocles-manager</code> during sealing. Currently, the <code>badger</code> local database and <code>mongo</code> database are supported.</p> <h4 id="basic-configuration-example-4"><a href="#basic-configuration-example-4" class="header-anchor">#</a> Basic configuration example:</h4> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Common.DB</span><span class="token punctuation">]</span>
<span class="token comment"># Specify database, optional, string type</span>
<span class="token comment"># Default is badger</span>
<span class="token comment"># All options: badger | mongo | plugin</span>
<span class="token key property">Driver</span> <span class="token punctuation">=</span> <span class="token string">&quot;badger&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.DB.Badger</span><span class="token punctuation">]</span>
<span class="token comment"># Basedir of the badger, optional, string type</span>
<span class="token comment"># Default value is empty string</span>
<span class="token comment"># Use home dir (default is ~/.damocles-manager) to store badger database files if BaseDir is empty string</span>
<span class="token comment">#BaseDir = &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.DB.Mongo</span><span class="token punctuation">]</span>
<span class="token comment"># DSN of Mongo, when `Enable` is true, `DSN` is required, string type.</span>
<span class="token key property">DSN</span> <span class="token punctuation">=</span> <span class="token string">&quot;mongodb://127.0.0.1:27017/?directConnection=true&amp;serverSelectionTimeoutMS=2000&quot;</span>
<span class="token comment"># DatabaseName of Mongo, when `Enable` is true, `DatabaseName` is required, string type.</span>
<span class="token key property">DatabaseName</span> <span class="token punctuation">=</span> <span class="token string">&quot;test&quot;</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.DB.Plugin</span><span class="token punctuation">]</span>
<span class="token comment"># The plugin name, optional，string type</span>
<span class="token comment"># Default is null</span>
<span class="token key property">PluginName</span> <span class="token punctuation">=</span> <span class="token string">&quot;redis&quot;</span>
<span class="token comment"># Metadata, optional, dict type</span>
<span class="token comment"># The internal value is in the format of Key = &quot;Value&quot;</span>
<span class="token comment"># Default is null</span>
<span class="token comment"># The Metadata will be pass to the constructor of the plugin</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.DB.Plugin.Meta</span><span class="token punctuation">]</span>
<span class="token comment">#SomeKey = &quot;SomeValue&quot;</span>
<span class="token comment">#</span>
</code></pre></div><h2 id="miners"><a href="#miners" class="header-anchor">#</a> [[Miners]]</h2> <p><code>Miners</code> is an important configuration item, which is used to define behavior and policy for a certain <code>SP</code>.</p> <p><code>damocles</code> is designed to support multiple <code>SP</code>s with the same set of components. This is reflected in <code>damocles-manager</code>, which you can set multiple <code>Miners</code> configuration blocks as needed.</p> <h3 id="main-configuration-item"><a href="#main-configuration-item" class="header-anchor">#</a> Main configuration item</h3> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Miners</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># `SP` actor id, required, numeric type</span>
<span class="token key property">Actor</span> <span class="token punctuation">=</span> <span class="token number">10086</span>
</code></pre></div><p>In addition to the main configuration, <code>Miners</code> also contains a number of different sub-configuration blocks, let's go through them one by one</p> <h3 id="miners-sector"><a href="#miners-sector" class="header-anchor">#</a> [Miners.Sector]</h3> <p>Policy used to control sector allocation.</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.Sector</span><span class="token punctuation">]</span>
<span class="token comment"># Sector start number, optional, number type</span>
<span class="token comment"># Default value is 0</span>
<span class="token comment"># Deprecated</span>
<span class="token key property">InitNumber</span> <span class="token punctuation">=</span> <span class="token number">0</span>

<span class="token comment"># Minimum sector number, optional, number type</span>
<span class="token comment"># Default value is null</span>
<span class="token comment"># Compared with InitNumber, when this is set,</span>
<span class="token comment"># 1. At any time, the allocator will not give a sector number less than or equal to this value.</span>
<span class="token comment"># 2. The value of this item can be adjusted during cluster operation.</span>
<span class="token comment"># Increase the config value, the assignment result will always follow the description of 1).</span>
<span class="token comment"># Lowering the config value usually has no effect.</span>
<span class="token comment">#</span>
<span class="token comment"># When this item is not set, if InitNumber is a non-zero value, it is equivalent to this item.</span>
<span class="token comment">#MinNumber = 10</span>

<span class="token comment"># Sector number upper limit, optional, number type</span>
<span class="token comment"># The default value is null, which means no upper limit</span>
<span class="token comment">#MaxNumber = 1000000</span>

<span class="token comment"># Whether to allow allocation of sectors, optional, boolean type</span>
<span class="token comment"># The default value is true, that is, the allocation is enabled</span>
<span class="token comment"># If set to false, do not seal</span>
<span class="token comment">#Enabled = true</span>

<span class="token comment"># Whether to allow allocation of deals, optional, boolean</span>
<span class="token comment"># Default is false</span>
<span class="token comment">#EnableDeals = false</span>

<span class="token comment"># The life cycle of the CC sector, the unit is days, optional, number type</span>
<span class="token comment"># Default is 540</span>
<span class="token comment">#LifetimeDays = 540</span>

<span class="token comment"># Sector log verbosity of related modules, optional items, boolean type</span>
<span class="token comment"># The default value is false, which simplifies the log output</span>
<span class="token comment">#Verbose = false</span>
</code></pre></div><h3 id="miners-snapup"><a href="#miners-snapup" class="header-anchor">#</a> [Miners.SnapUp]</h3> <p>Production strategy for controlling <code>SnapDeal</code></p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.SnapUp</span><span class="token punctuation">]</span>
<span class="token comment"># Whether to enable, optional, boolean type</span>
<span class="token comment"># Default is false</span>
<span class="token comment">#Enabled = false</span>

<span class="token comment"># Sender address, required if enabled, address type</span>
<span class="token comment">#Sender = &quot;t1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>

<span class="token comment"># Whether to send the necessary funds from Sender when submitting the on-chain message, optional, boolean type</span>
<span class="token comment"># Default value is true</span>
<span class="token comment"># If set to false, founds from miner address</span>
<span class="token comment">#SendFund = true</span>

<span class="token comment"># Gas estimate multiplier for a single commit message, optional, floating point type</span>
<span class="token comment"># Default is 1.2</span>
<span class="token comment">#GasOverEstimation = 1.2</span>

<span class="token comment"># Gas premium multiplier for a single commit message, optional, floating point type</span>
<span class="token comment"># Default is 0.0, which means no effect</span>
<span class="token comment">#GasOverPremium = 0.0</span>

<span class="token comment"># FeeCap limit for a single message, optional, FIL value type</span>
<span class="token comment"># Default is 5 nanoFIL</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>

<span class="token comment"># Deprecated</span>
<span class="token comment">#MaxFeeCap = &quot;&quot;</span>

<span class="token comment"># Whether to delete the original cc sector data after the snapdeal message is on the chain</span>
<span class="token comment"># Default is true</span>
<span class="token comment">#CleanupCCData = true</span>

<span class="token comment"># The confident height for message on-chain, optional, number type</span>
<span class="token comment"># Default is 15</span>
<span class="token comment">#MessageConfidence = 15</span>

<span class="token comment"># The confident height to release old data storage space, optional, number type</span>
<span class="token comment"># Default is 30</span>
<span class="token comment">#ReleaseConfidence = 30</span>

<span class="token comment"># SnapUp retry policy</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.SnapUp.Retry</span><span class="token punctuation">]</span>

<span class="token comment"># maximum number of retries, optional, number type</span>
<span class="token comment"># The default is NULL, which means no limit</span>
<span class="token comment">#MaxAttempts = 10</span>

<span class="token comment"># Status polling interval, optional, duration type</span>
<span class="token comment"># Default is 3min</span>
<span class="token comment">#PollInterval = &quot;3m0s&quot;</span>

<span class="token comment"># API interface exception retry interval, optional, duration type</span>
<span class="token comment"># Default is 3min</span>
<span class="token comment">#APIFailureWait = &quot;3m0s&quot;</span>

<span class="token comment"># Retry interval for local exceptions, such as local database exceptions, local storage exceptions, etc., optional, duration type</span>
<span class="token comment"># Default is 3min</span>
<span class="token comment">#LocalFailureWait = &quot;3m0s&quot;</span>
</code></pre></div><h3 id="miners-commitment"><a href="#miners-commitment" class="header-anchor">#</a> [Miners.Commitment]</h3> <p>Common section for configuring PoRep message sending policies.</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment</span><span class="token punctuation">]</span>
<span class="token comment"># Height of the message that is considered stable, optional, number type</span>
<span class="token comment"># Default is 10</span>
<span class="token comment">#Confidence = 10</span>
</code></pre></div><h3 id="miners-commitment-pre"><a href="#miners-commitment-pre" class="header-anchor">#</a> [Miners.Commitment.Pre]</h3> <p>Strategy for configuring <code>PreCommit</code> message sending</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Pre</span><span class="token punctuation">]</span>
<span class="token comment"># Whether to use the necessary funds from Sender when sending the  message on-chain, optional, boolean type</span>
<span class="token comment"># Default value is true</span>
<span class="token comment">#SendFund = true</span>

<span class="token comment"># Sender address, required, address type</span>
<span class="token key property">Sender</span> <span class="token punctuation">=</span> <span class="token string">&quot;t1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>

<span class="token comment"># Gas estimate multiplier for a single message, optional, floating point type</span>
<span class="token comment"># Default is 1.2</span>
<span class="token comment">#GasOverEstimation = 1.2</span>

<span class="token comment"># Gas premium multiplier for a single commit message, optional, floating point type</span>
<span class="token comment"># Default is 0.0, which means no effect</span>
<span class="token comment">#GasOverPremium = 0.0</span>

<span class="token comment"># FeeCap limit for a single message, optional, FIL value type</span>
<span class="token comment"># Default is 5 nanoFIL</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>

<span class="token comment"># Deprecated</span>
<span class="token comment">#MaxFeeCap = &quot;5 nanoFIL&quot;</span>

<span class="token comment"># Aggregate message sending configuration blocks</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Pre.Batch</span><span class="token punctuation">]</span>
<span class="token comment"># Whether to enable aggregate messages, optional, boolean type</span>
<span class="token comment"># The default value is false, i.e. not enabled</span>
<span class="token comment">#Enabled = false</span>

<span class="token comment"># Minimum number of message to aggregate, optional, number type</span>
<span class="token comment"># The default value is 16, that is, the minimum number of aggregates is 16</span>
<span class="token comment">#Threshold = 16</span>

<span class="token comment"># Maximum waiting time, optional, time type</span>
<span class="token comment"># The default value is 1h, that is, the maximum wait time is 1 hour</span>
<span class="token comment">#MaxWait = &quot;1h0m0s&quot;</span>

<span class="token comment"># Check interval, optional, time type</span>
<span class="token comment"># The default value is 1min, that is, every 1min to check whether the aggregation conditions are met</span>
<span class="token comment">#CheckInterval = &quot;1m0s&quot;</span>

<span class="token comment"># Gas estimation multiplier of aggregate messages, optional, floating point type</span>
<span class="token comment"># Default is 1.2</span>
<span class="token comment">#GasOverEstimation = 1.2</span>

<span class="token comment"># Gas premium multiplier for a single commit message, optional, floating point type</span>
<span class="token comment"># Default is 0.0, which means no effect</span>
<span class="token comment">#GasOverPremium = 0.0</span>

<span class="token comment"># FeeCap limit for a single message, optional, FIL value type</span>
<span class="token comment"># Default is 5 nanoFIL</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>

<span class="token comment"># Deprecated</span>
<span class="token comment">#MaxFeeCap = &quot;5 nanoFIL&quot;</span>
</code></pre></div><h3 id="miners-commitment-prove"><a href="#miners-commitment-prove" class="header-anchor">#</a> [Miners.Commitment.Prove]</h3> <p>The strategy used to configure <code>ProveCommit</code> message sending, its configuration items and functions are exactly the same as those in <code>Miners.Commitment.Pre</code>.</p> <h3 id="miners-commitment-terminate"><a href="#miners-commitment-terminate" class="header-anchor">#</a> [Miners.Commitment.Terminate]</h3> <p>The strategy used to configure <code>TerminateSectors</code> message submission, its configuration items and functions are basically the same as those in <code>Miners.Commitment.Pre</code>. In practice, such messages are not sent as frequently. It is recommended to use single message sending mode. When using aggregate sending mode, <code>Threshold</code> is recommended to be configured with a smaller value to ensure that messages get on-chain in time.</p> <h3 id="miners-post"><a href="#miners-post" class="header-anchor">#</a> [Miners.PoSt]</h3> <p>Options for configuring <code>WindowPoSt</code>.</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.Post</span><span class="token punctuation">]</span>
<span class="token comment"># Sender address, required, address type</span>
<span class="token key property">Sender</span> <span class="token punctuation">=</span> <span class="token string">&quot;t1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>

<span class="token comment"># Whether to enable, optional, boolean type</span>
<span class="token comment"># Default value is true</span>
<span class="token comment">#Enabled = true</span>

<span class="token comment"># Whether to perform strong verification on sector files, optional, boolean type</span>
<span class="token comment"># Default value is true</span>
<span class="token comment"># When enabled, in addition to checking the existence of the file, it will also try to read some information, such as metadata, etc.</span>
<span class="token comment">#StrictCheck = true</span>

<span class="token comment"># Switch for enable parallel proofs generations, optional, boolean type</span>
<span class="token comment"># Default value is false</span>
<span class="token comment"># When enabled, we will start generating partitions inside one deadline parallelly</span>
<span class="token comment"># BE NOTICED: this can take effect only when multiple ext-provers are set</span>
<span class="token comment">#Parallel = false</span>

<span class="token comment"># Gas estimation multiplier of WindowPoSt message, optional, floating point type</span>
<span class="token comment"># Default is 1.2</span>
<span class="token comment">#GasOverEstimation = 1.2</span>

<span class="token comment"># Gas premium multiplier for a single commit message, optional, floating point type</span>
<span class="token comment"># Default is 0.0, which means no effect</span>
<span class="token comment">#GasOverPremium = 0.0</span>

<span class="token comment"># FeeCap limit for a single message, optional, FIL value type</span>
<span class="token comment"># Default is 5 nanoFIL</span>
<span class="token comment">#GasFeeCap = &quot;5 nanoFIL&quot;</span>

<span class="token comment"># Deprecated</span>
<span class="token comment">#MaxFeeCap = &quot;5 nanoFIL&quot;</span>

<span class="token comment"># Height of the message that is considered stable, optional, number type</span>
<span class="token comment"># Default is 10</span>
<span class="token comment">#Confidence = 10</span>

<span class="token comment"># Stable height to submit WindowPoSt proofs, optional, number type</span>
<span class="token comment"># This value determines how many epochs to wait for the chain to enter a stable state, so that we could start submiting proofs</span>
<span class="token comment"># The first epoch we can submit is deadline.Open + SubmitConfidence</span>
<span class="token comment"># The smaller this value is set, the earlier it will start, but at the same time, more likely to send windowPost to a fork</span>
<span class="token comment"># When set to 0, the default value of 4 will be used</span>
<span class="token comment">#SubmitConfidence = 0</span>

<span class="token comment"># Stable height to start WindowPoSt, optional, number type</span>
<span class="token comment"># This value determines how many epochs to wait for the chain to enter a stable state, and the WindowPoSt task can be started</span>
<span class="token comment"># The first epoch we can start is deadline.Challenge + ChallengeConfidence</span>
<span class="token comment"># The smaller this value is set, the earlier it will start, but at the same time, more likely to send windowPost to a fork</span>
<span class="token comment"># When set to 0, the default value of 10 will be used</span>
<span class="token comment">#ChallengeConfidence = 0</span>

<span class="token comment"># The maximum limit of the sectors included in one recovering check, optional, number type</span>
<span class="token comment"># Default value is 0</span>
<span class="token comment"># When set to 0, no limit</span>
<span class="token comment">#MaxRecoverSectorLimit = 0</span>

<span class="token comment"># The maximum number of Partitions allowed in a single PoSt message, optional, number type</span>
<span class="token comment"># Default value is 0</span>
<span class="token comment"># When set to 0, the default maximum value will be used</span>
<span class="token comment">#MaxPartitionsPerPoStMessage = 0</span>

<span class="token comment"># The maximum number of Partitions allowed in a single Recover message, optional, number type</span>
<span class="token comment"># Default value is 0</span>
<span class="token comment"># When set to 0, no limit</span>
<span class="token comment">#MaxPartitionsPerRecoveryMessage = 0</span>
</code></pre></div><h3 id="miners-proof"><a href="#miners-proof" class="header-anchor">#</a> [Miners.Proof]</h3> <p>Used to configure WinningPoSt Proof related policies</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.Proof</span><span class="token punctuation">]</span>
<span class="token comment"># Whether to enable, optional, boolean type</span>
<span class="token comment"># Default is false</span>
<span class="token comment">#Enabled = false</span>
</code></pre></div><h3 id="miners-sealing"><a href="#miners-sealing" class="header-anchor">#</a> [Miners.Sealing]</h3> <p>Used to configure sealing related policies</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.Sealing</span><span class="token punctuation">]</span>
<span class="token comment"># Sealing need how many epochs to achieve，when select deals in sealing, deals start epoch will be</span>
<span class="token comment"># required to later than current-epoch + sealing-duration ，optional，integer</span>
<span class="token comment"># Default is zero, means no config</span>
<span class="token comment">#SealingEpochDuration = 0</span>
<span class="token comment">#</span>
</code></pre></div><h3 id="miners-deal-deprecated"><a href="#miners-deal-deprecated" class="header-anchor">#</a> [Miners.Deal] <code>Deprecated</code></h3> <p>Used to configure deal related policies.</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Miners.Deal</span><span class="token punctuation">]</span>
<span class="token comment"># Whether to enable, optional, boolean type</span>
<span class="token comment"># Default is false</span>
<span class="token comment">#Enabled = false</span>
</code></pre></div><h2 id="a-minimal-working-configuration-file-example"><a href="#a-minimal-working-configuration-file-example" class="header-anchor">#</a> A minimal working configuration file example</h2> <p>Let's have a look at an example of starting a <code>damocles-manager</code> that could supports a <code>SP</code>'s operation,</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">Common</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token table class-name">Common.API</span><span class="token punctuation">]</span>
<span class="token key property">Chain</span> <span class="token punctuation">=</span> <span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>
<span class="token key property">Messager</span> <span class="token punctuation">=</span> <span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>
<span class="token key property">Market</span> <span class="token punctuation">=</span> <span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span>
<span class="token key property">Gateway</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;/ip4/{api_host}/tcp/{api_port}&quot;</span><span class="token punctuation">]</span>
<span class="token key property">Token</span> <span class="token punctuation">=</span> <span class="token string">&quot;{some token}&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PieceStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">Path</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_path}&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">Name</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_name1}&quot;</span>
<span class="token key property">Path</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_path1}&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">Name</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_name2}&quot;</span>
<span class="token key property">Path</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_path2}&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">Name</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_name3}&quot;</span>
<span class="token key property">Path</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_path3}&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Common.PersistStores</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">Name</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_name4}&quot;</span>
<span class="token key property">Path</span> <span class="token punctuation">=</span> <span class="token string">&quot;{store_path4}&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">Miners</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">Actor</span> <span class="token punctuation">=</span> <span class="token number">10086</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Sector</span><span class="token punctuation">]</span>
<span class="token key property">InitNumber</span> <span class="token punctuation">=</span> <span class="token number">1000</span>
<span class="token key property">Enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">EnableDeals</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Pre</span><span class="token punctuation">]</span>
<span class="token key property">Sender</span> <span class="token punctuation">=</span> <span class="token string">&quot;t1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>

<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Pre.Batch</span><span class="token punctuation">]</span>
<span class="token key property">Enabled</span> <span class="token punctuation">=</span> <span class="token boolean">false</span>

<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Prove</span><span class="token punctuation">]</span>
<span class="token key property">Sender</span> <span class="token punctuation">=</span> <span class="token string">&quot;t1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>

<span class="token punctuation">[</span><span class="token table class-name">Miners.Commitment.Prove.Batch</span><span class="token punctuation">]</span>
<span class="token key property">Enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span><span class="token table class-name">Miners.Post</span><span class="token punctuation">]</span>
<span class="token key property">Sender</span> <span class="token punctuation">=</span> <span class="token string">&quot;t1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za&quot;</span>
<span class="token key property">Enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span><span class="token table class-name">Miners.Proof</span><span class="token punctuation">]</span>
<span class="token key property">Enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

</code></pre></div><p>This activates an instance of <code>damocles-manager</code> that...</p> <ul><li>With 1 local PieceStore</li> <li>With 4 local persistent stores</li> <li>Enables sector allocation, which initial number is 1000</li> <li>Disables aggregated PreCommit</li> <li>Enables aggregated ProveCommit</li> <li>Enables WinningPost module</li> <li>Enables deal</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ipfs-force-community/damocles-docs/edit/main/docs/operation/damocles-manager-config.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/operation/" class="prev router-link-active">
        Getting started
      </a></span> <span class="next"><a href="/operation/damocles-worker-config.html">
        damocles-worker config
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.022a3539.js" defer></script><script src="/assets/js/2.2a8cf6e9.js" defer></script><script src="/assets/js/17.5738a6c0.js" defer></script>
  </body>
</html>
