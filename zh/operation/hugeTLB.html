<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>damocles-worker PC1 HugeTLB Pages 支持 | 执剑人</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/assets/damocles-icon.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-C1545RTPE5"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-C1545RTPE5');</script>
    <meta name="description" content="执剑人，原Venus算力服务，是一个Filecoin存储算力解决方案">
    
    <link rel="preload" href="/assets/css/0.styles.e2ff4576.css" as="style"><link rel="preload" href="/assets/js/app.a3a4c4bb.js" as="script"><link rel="preload" href="/assets/js/2.2a8cf6e9.js" as="script"><link rel="preload" href="/assets/js/37.2da98132.js" as="script"><link rel="prefetch" href="/assets/js/10.41cee622.js"><link rel="prefetch" href="/assets/js/11.063d7fa2.js"><link rel="prefetch" href="/assets/js/12.b03ec269.js"><link rel="prefetch" href="/assets/js/13.9d2fb996.js"><link rel="prefetch" href="/assets/js/14.d1a07afe.js"><link rel="prefetch" href="/assets/js/15.d0fe8e34.js"><link rel="prefetch" href="/assets/js/16.0e1e653a.js"><link rel="prefetch" href="/assets/js/17.5738a6c0.js"><link rel="prefetch" href="/assets/js/18.dbf6fecb.js"><link rel="prefetch" href="/assets/js/19.8f2f4079.js"><link rel="prefetch" href="/assets/js/20.4dce5d3b.js"><link rel="prefetch" href="/assets/js/21.92100b96.js"><link rel="prefetch" href="/assets/js/22.c53f7a6f.js"><link rel="prefetch" href="/assets/js/23.c337fce4.js"><link rel="prefetch" href="/assets/js/24.572f0463.js"><link rel="prefetch" href="/assets/js/25.a28053d9.js"><link rel="prefetch" href="/assets/js/26.09e654e2.js"><link rel="prefetch" href="/assets/js/27.0941c902.js"><link rel="prefetch" href="/assets/js/28.2a9152a4.js"><link rel="prefetch" href="/assets/js/29.c6546450.js"><link rel="prefetch" href="/assets/js/3.cc869a3b.js"><link rel="prefetch" href="/assets/js/30.368cfbe4.js"><link rel="prefetch" href="/assets/js/31.48183658.js"><link rel="prefetch" href="/assets/js/32.f58290a6.js"><link rel="prefetch" href="/assets/js/33.440bc2d9.js"><link rel="prefetch" href="/assets/js/34.d80b161d.js"><link rel="prefetch" href="/assets/js/35.fdd8eea9.js"><link rel="prefetch" href="/assets/js/36.3c5b3643.js"><link rel="prefetch" href="/assets/js/38.651574c5.js"><link rel="prefetch" href="/assets/js/39.265a9ebf.js"><link rel="prefetch" href="/assets/js/4.d4393beb.js"><link rel="prefetch" href="/assets/js/40.61f650d5.js"><link rel="prefetch" href="/assets/js/41.30eb628c.js"><link rel="prefetch" href="/assets/js/42.82e1ede3.js"><link rel="prefetch" href="/assets/js/43.19c6a285.js"><link rel="prefetch" href="/assets/js/44.e0139149.js"><link rel="prefetch" href="/assets/js/45.bd7f0265.js"><link rel="prefetch" href="/assets/js/46.db37718b.js"><link rel="prefetch" href="/assets/js/47.c5653ff1.js"><link rel="prefetch" href="/assets/js/48.26b1bd71.js"><link rel="prefetch" href="/assets/js/49.80000722.js"><link rel="prefetch" href="/assets/js/5.7af5716c.js"><link rel="prefetch" href="/assets/js/6.354469f3.js"><link rel="prefetch" href="/assets/js/7.d4b63fde.js"><link rel="prefetch" href="/assets/js/8.6f875c2d.js"><link rel="prefetch" href="/assets/js/9.ea6c973f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e2ff4576.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><img src="/assets/damocles-icon.png" alt="执剑人" class="logo"> <span class="site-name can-hide">执剑人</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/intro/" class="nav-link">
  功能介绍
</a></div><div class="nav-item"><a href="/zh/operation/" class="nav-link router-link-active">
  部署/运维
</a></div><div class="nav-item"><a href="/zh/developer/" class="nav-link">
  研发/设计
</a></div><div class="nav-item"><a href="/zh/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/operation/hugeTLB.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/intro/" class="nav-link">
  功能介绍
</a></div><div class="nav-item"><a href="/zh/operation/" class="nav-link router-link-active">
  部署/运维
</a></div><div class="nav-item"><a href="/zh/developer/" class="nav-link">
  研发/设计
</a></div><div class="nav-item"><a href="/zh/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/operation/hugeTLB.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/operation/quick-start.html" class="sidebar-link">快速上手</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>配置</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/operation/damocles-manager-config.html" class="sidebar-link">damocles-manager 配置</a></li><li><a href="/zh/operation/damocles-worker-config.html" class="sidebar-link">damocles-worker 配置</a></li><li><a href="/zh/operation/processors-config-example.html" class="sidebar-link">外部执行器配置范例</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>运维</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/operation/task-management.html" class="sidebar-link">worker 任务管理</a></li><li><a href="/zh/operation/task-flow.html" class="sidebar-link">任务状态流转</a></li><li><a href="/zh/operation/poster.html" class="sidebar-link">独立 Poster</a></li><li><a href="/zh/operation/snapup.html" class="sidebar-link">snapdeal 支持</a></li><li><a href="/zh/operation/worker-util.html" class="sidebar-link">damocles-worker-util</a></li><li><a href="/zh/operation/custom-algo.html" class="sidebar-link">自定义算法/存储方案</a></li><li><a href="/zh/operation/metrics.html" class="sidebar-link">damocles-manager metrics 使用</a></li><li><a href="/zh/operation/hugeTLB.html" aria-current="page" class="active sidebar-link">PC1 hugeTLB 支持</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/operation/hugeTLB.html#damocles-worker-pc1-hugetlb-pages-支持" class="sidebar-link">damocles-worker PC1 HugeTLB Pages 支持</a></li></ul></li><li><a href="/zh/operation/sector-rebuild.html" class="sidebar-link">扇区重建支持</a></li><li><a href="/zh/operation/unseal.html" class="sidebar-link">unseal 反封装</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>迁移</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/operation/migrate-sectors.html" class="sidebar-link">导入已有扇区</a></li><li><a href="/zh/operation/migrate-miner.html" class="sidebar-link">lotus-miner 与 damocles 切换流程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>FAQ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/operation/faq.html" class="sidebar-link">常见问题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="damocles-worker-pc1-hugetlb-pages-支持"><a href="#damocles-worker-pc1-hugetlb-pages-支持" class="header-anchor">#</a> damocles-worker PC1 HugeTLB Pages 支持</h2> <p>在 PC1 阶段 <code>rust-fil-proofs</code> 会 mmap 两块和扇区大小一致的大块内存。 这两块内存如果和 PC1 工作线程在同一 NUMA 节点会有效提升性能, 使用 <a href="https://www.kernel.org/doc/html/v5.16/admin-guide/mm/hugetlbpage.html" target="_blank" rel="noopener noreferrer">HugeTLB Pages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 也会带来一定的性能提升。</p> <p>经过测试，即便配置了 <a href="/zh/operation/damocles-worker-config.html#processorsstage_name">numa_preferred</a> 在运行一段时间后，系统也经常会跨 NUMA 节点申请这两块内存。使用我们改造后的 <a href="https://github.com/ipfs-force-community/rust-fil-proofs/tree/force/master_v12.0.0" target="_blank" rel="noopener noreferrer">rust-fil-proofs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (当前版本的 damocles-worker 已支持) 可以使用预先创建好的和扇区大小一致的 hugepage 内存文件，该内存文件仅供上述 PC1 阶段的两大块内存的需求使用。可以一定程度上解决问题。</p> <p>提示: 原本的 mmap 方式优势在于由于 mmap 申请的内存由操作系统管理，即便在内存不足的情况下也能正常工作（内存严重不足可能会导致性能下降），用户可以根据自己的需要自行选择是否使用此功能。</p> <h3 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> 使用方法</h3> <p>下文将演示启用两个 PC1 外部执行器子进程，两个 PC1 子进程分别运行在 NUMA0 和 NUMA1。并且每个 PC1 子进程的并发数为 1。</p> <h4 id="_1-为每个-numa-node-分配足够的-persistent-hugepages"><a href="#_1-为每个-numa-node-分配足够的-persistent-hugepages" class="header-anchor">#</a> 1. 为每个 NUMA node 分配足够的 Persistent hugepages.</h4> <p>单个 PC1 任务需要 64 GiB 的 persistent hugepages, 用户应该按照自己的需求分配足够的 persistent hugepages。</p> <p>下面命令演示分配 128 GiB 的 persistent hugepages:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token comment"># 为 NUMA node 0 分配 64GiB, PageSize 为 1GiB 的 Persistent HugeTLB Pages 内存</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;64&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /sys/devices/system/node/node0/hugepages/hugepages-1048576kB/nr_hugepages
$ <span class="token comment"># 为 NUMA node 1 分配 64GiB, PageSize 为 1GiB Persistent HugeTLB Pages 内存</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;64&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /sys/devices/system/node/node1/hugepages/hugepages-1048576kB/nr_hugepages
</code></pre></div><p>更多信息请参考 <a href="https://www.kernel.org/doc/html/v5.16/admin-guide/mm/hugetlbpage.html" target="_blank" rel="noopener noreferrer">HugeTLB Pages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_2-挂载-hugetlbfs"><a href="#_2-挂载-hugetlbfs" class="header-anchor">#</a> 2. 挂载 hugetlbfs</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> /mnt/huge_1g
<span class="token function">sudo</span> <span class="token function">mount</span> -t hugetlbfs -o <span class="token assign-left variable">pagesize</span><span class="token operator">=</span>1g none /mnt/huge_1g
</code></pre></div><p>上面的 <code>mount</code> 命令会挂载(虚拟)文件系统 <code>hugetlbfs</code> 到 <code>/mnt/huge_1g</code> 目录。在 <code>/mnt/huge_1g</code> 目录中创建的任何文件都会使用 huge pages。</p> <p>更多信息请参考 <a href="https://www.kernel.org/doc/html/v5.16/admin-guide/mm/hugetlbpage.html#using-huge-pages" target="_blank" rel="noopener noreferrer">Using Huge Pages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_3-使用-damocles-worker-store-hugepage-init-工具创建-hugepage-内存文件"><a href="#_3-使用-damocles-worker-store-hugepage-init-工具创建-hugepage-内存文件" class="header-anchor">#</a> 3. 使用 damocles-worker-store-hugepage-init 工具创建 hugepage 内存文件</h4> <p>Usage:</p> <div class="language- extra-class"><pre class="language-text"><code>damocles-worker-store-hugepage-file-init 

USAGE:
   damocles-worker store hugepage-file-init --node &lt;numa_node_index&gt; --num &lt;number_of_files&gt; --path &lt;path&gt; --path_pattern &lt;path_pattern&gt; --size &lt;size&gt;

FLAGS:
   -h, --help       
            Prints help information

   -V, --version    
            Prints version information


OPTIONS:
   -n, --node &lt;numa_node_index&gt;         
            Specify the numa node

   -c, --num &lt;number_of_files&gt;          
            Specify the number of hugepage memory files to be created

      --path &lt;path&gt;                    
            Specify the path to the output hugepage memory files and using the default pattern
            (/specified_hugepage_file_path/numa_$NUMA_NODE_INDEX).
            The created files looks like this:
            /specified_hugepage_file_path/numa_0/file
            /specified_hugepage_file_path/numa_1/file
            /specified_hugepage_file_path/numa_2/file
            ...
            
            This argument will be ignored if `path_pattern` is specified.
      --path_pattern &lt;path_pattern&gt;    
            Specify the path pattern for the output hugepage memory files where $NUMA_NODE_INDEX represents 
            the numa node index placeholder, which extracts the number in the folder name as the numa node index.
            
            If both the argument `path` and the argument `path_pattern` are specified, the argument `path` will be
            ignored.
   -s, --size &lt;size&gt;                    
            Specify the size of each hugepage memory file. (e.g., 1B, 2KB, 3kiB, 1MB, 2MiB, 3GB, 1GiB, ...)

</code></pre></div><p>Example:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token comment"># 在 NUMA 节点 0 上创建 2 个大小为 32GiB 的 hugepage 内存文件</span>
$ <span class="token function">sudo</span> ./dist/bin/damocles-worker store hugepage-file-init --node<span class="token operator">=</span><span class="token number">0</span> --num<span class="token operator">=</span><span class="token number">2</span> --size<span class="token operator">=</span>32GiB --path<span class="token operator">=</span><span class="token string">&quot;/mnt/huge_1g/pc1_1&quot;</span>

$ <span class="token comment"># 在 NUMA 节点 1 上创建 2 个大小为 32GiB 的 hugepage 内存文件</span>
$ <span class="token function">sudo</span> ./dist/bin/damocles-worker store hugepage-file-init --node<span class="token operator">=</span><span class="token number">1</span> --num<span class="token operator">=</span><span class="token number">2</span> --size<span class="token operator">=</span>32GiB --path<span class="token operator">=</span><span class="token string">&quot;/mnt/huge_1g/pc1_2&quot;</span>

$ tree /mnt/huge_1g
/mnt/huge_1g
├── pc1_1
│   └── numa_0
│       ├── <span class="token number">32</span>.0_GiB_0
│       └── <span class="token number">32</span>.0_GiB_1
└── pc1_2
    └── numa_1
        ├── <span class="token number">32</span>.0_GiB_0
        └── <span class="token number">32</span>.0_GiB_1

<span class="token number">4</span> directories, <span class="token number">4</span> files
</code></pre></div><h4 id="_4-配置-pc1-processor"><a href="#_4-配置-pc1-processor" class="header-anchor">#</a> 4. 配置 pc1 processor</h4> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token comment"># damocles-worker.toml</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">processors.pc1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># ...</span>
<span class="token key property">envs</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">HUGEPAGE_FILES_PATH</span> <span class="token punctuation">=</span> <span class="token string">&quot;/mnt/huge_1g/pc1_1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token key property">concurrent</span> <span class="token punctuation">=</span> <span class="token number">1</span>
<span class="token comment"># ...</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">processors.pc1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># ...</span>
<span class="token key property">envs</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">HUGEPAGE_FILES_PATH</span> <span class="token punctuation">=</span> <span class="token string">&quot;/mnt/huge_1g/pc1_2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token key property">concurrent</span> <span class="token punctuation">=</span> <span class="token number">1</span>
<span class="token comment"># ...</span>

</code></pre></div><h4 id="_5-启动-damocles-worker"><a href="#_5-启动-damocles-worker" class="header-anchor">#</a> 5. 启动 damocles-worker</h4> <p>启动 damocles-worker 后，如果日志级别为 trace 并且出现以下日志则表示 HugeTLb files 配置成功。</p> <div class="language- extra-class"><pre class="language-text"><code>2022-08-19T10:12:14.731440277+08:00 TRACE ThreadId(01) storage_proofs_porep::stacked::vanilla::memory_handling::numa_mem_pool: loaded memory file: /mnt/huge_1g/processor_a/numa_0/32.0_GiB_0
2022-08-19T10:12:14.749523696+08:00 TRACE ThreadId(01) storage_proofs_porep::stacked::vanilla::memory_handling::numa_mem_pool: loaded memory file: /mnt/huge_1g/processor_a/numa_0/32.0_GiB_1
2022-08-19T10:12:14.767479765+08:00 TRACE ThreadId(01) storage_proofs_porep::stacked::vanilla::memory_handling::numa_mem_pool: loaded memory file: /mnt/huge_1g/processor_a/numa_1/32.0_GiB_0
2022-08-19T10:12:14.785486639+08:00 TRACE ThreadId(01) storage_proofs_porep::stacked::vanilla::memory_handling::numa_mem_pool: loaded memory file: /mnt/huge_1g/processor_a/numa_1/32.0_GiB_1
2022-08-19T10:12:14.78549745+08:00 TRACE ThreadId(01) storage_proofs_porep::stacked::vanilla::memory_handling::numa_mem_pool: number of loaded memory files: numa_id: 0, loaded: 2; numa_id: 1, loaded: 2
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ipfs-force-community/damocles-docs/edit/main/docs/zh/operation/hugeTLB.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/operation/metrics.html" class="prev">
        damocles-manager metrics 使用
      </a></span> <span class="next"><a href="/zh/operation/sector-rebuild.html">
        扇区重建支持
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a3a4c4bb.js" defer></script><script src="/assets/js/2.2a8cf6e9.js" defer></script><script src="/assets/js/37.2da98132.js" defer></script>
  </body>
</html>
